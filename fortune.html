<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ì˜¤ëŠ˜ì˜ íƒ€ë¡œ</title>
  <style>
    /* ê¸°ë³¸ ë°°ê²½ ë° í°íŠ¸ ì„¤ì • */
    body {
      font-family: 'Pretendard', sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #1e3c72, #2a5298);
      color: #fff;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow-y: auto;
      flex-direction: column;
    }
    .container {
      width: 90%;
      max-width: 1000px;
      background: rgba(0, 0, 0, 0.6);
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
      padding: 20px;
      margin: 20px auto;
      position: relative;
    }
    /* í—¤ë” ì˜ì—­: ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒìœ¼ë¡œ ì¢Œì¸¡, ì¤‘ì•™, ìš°ì¸¡ êµ¬ì„± */
    .header {
      display: grid;
      grid-template-columns: auto auto auto;
      align-items: center;
      justify-items: center;
      gap: 90px;
      width: fit-content;
      margin: 0 auto 40px;
    }
    .header h1 {
      margin: 0;
      /* íƒ€ì´í‹€ì„ ì•½ê°„ ì•„ë˜ë¡œ ë‚´ë¦¬ê¸° */
      margin-top: 10px;
      font-size: 2.5em;
      font-family: 'Cinzel', serif;
      letter-spacing: 2px;
      text-align: center;
    }
    .header button {
      background: transparent;
      border: 2px solid #fff;
      border-radius: 5px;
      padding: 10px 15px;
      font-size: 1.2em;
      color: #fff;
      cursor: pointer;
      transition: background 0.3s, color 0.3s;
      /* ë²„íŠ¼ì˜ ë„ˆë¹„ëŠ” ì½˜í…ì¸ ì— ë§ê²Œ auto */
    }
    .header button:hover {
      background: #fff;
      color: #333;
    }
    /* ì¹´ë“œ ì˜ì—­ ë° ê²°ê³¼ ëª¨ë‹¬ */
    .card-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 30px;
      margin-bottom: 20px;
    }
    .card {
      width: 120px;
      height: 180px;
      cursor: pointer;
      perspective: 1000px;
      position: relative;
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.8);
    }
    .card-inner {
      width: 100%;
      height: 100%;
      position: absolute;
      transition: transform 1s;
      transform-style: preserve-3d;
    }
    .card.flipped .card-inner {
      transform: rotateY(180deg);
    }
    .card-face {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 10px;
      backface-visibility: hidden;
    }
    .card-back {
      background: url('fortunes/card_back.png') no-repeat center/cover;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3em;
      font-weight: bold;
      color: #2a5298;
    }
    .card-front {
      background: url('fortunes/fortune1.png') no-repeat center/cover;
      transform: rotateY(180deg);
    }
    /* ê²°ê³¼ ëª¨ë‹¬ ì „ì²´ í™”ë©´ ì˜¤ë²„ë ˆì´ */
    .result-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.5s, visibility 0.5s;
      z-index: 10;
    }
    .result-modal.show {
      opacity: 1;
      visibility: visible;
    }
    .result-content {
      text-align: center;
      animation: enlargeCard 1.5s ease-out forwards;
    }
    @keyframes enlargeCard {
      from {
        transform: scale(0.5) rotate(0deg);
        opacity: 0;
      }
      to {
        transform: scale(1) rotate(720deg);
        opacity: 1;
      }
    }
    .result-content img {
      width: 250px;
      height: 250px;
      border: 5px solid #fff;
      border-radius: 15px;
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.7);
      margin-bottom: 20px;
    }
    .result-content .result-text {
      font-size: 1.5em;
      font-family: 'Cinzel', serif;
      margin: 0 0 20px 0;
      line-height: 1.4;
    }
    .btn-group {
      display: flex;
      gap: 20px;
      justify-content: center;
    }
    .result-btn {
      background: #f0c674;
      border: none;
      padding: 10px 20px;
      font-size: 1em;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .result-btn:hover {
      background: #e0b664;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- í—¤ë” ì˜ì—­ -->
    <div class="header">
      <button class="back-btn" onclick="goHome()">ğŸ </button>
      <h1>ì˜¤ëŠ˜ì˜ íƒ€ë¡œ</h1>
      <button class="music-btn" onclick="toggleMusic()" id="musicBtn">ğŸµ</button>
    </div>
    <div class="card-container" id="cardContainer">
      <!-- 28ì¥ì˜ ì¹´ë“œê°€ ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤. -->
    </div>
  </div>

  <!-- ê²°ê³¼ ëª¨ë‹¬ -->
  <div class="result-modal" id="resultModal">
    <div class="result-content">
      <img id="resultImg" src="" alt="Tarot Result" />
      <div class="result-text" id="resultText">ê²°ê³¼ í…ìŠ¤íŠ¸</div>
      <div class="btn-group">
        <button class="result-btn" onclick="goHome()">í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
        <button class="result-btn" onclick="resetCards()">ë‹¤ì‹œ ë½‘ê¸°</button>
      </div>
    </div>
  </div>

  <!-- ìŒì•… ìë™ ì¬ìƒ ë° ë¬´í•œ ë°˜ë³µ -->
  <audio id="backgroundMusic" autoplay loop>
    <source src="audio/fortune.mp4" type="audio/mp4" />
    Your browser does not support the audio element.
  </audio>

  <script>
    const totalCards = 28;
    const cardContainer = document.getElementById('cardContainer');
    const resultModal = document.getElementById('resultModal');
    const resultImg = document.getElementById('resultImg');
    const resultText = document.getElementById('resultText');

    const fortuneDescriptions = {
      1: { name: "ã€Œìƒˆë¡œìš´ ì‹œì‘ã€", description: "ìš©ê¸°ê°€ í•„ìš”í•œ í•˜ë£¨ì…ë‹ˆë‹¤!", summary: "ê²ë‚´ì§€ ë§ê³  ë„ì „í•˜ì„¸ìš”. ìƒê°ë³´ë‹¤ ì¢‹ì€ ê²°ê³¼ê°€ ë”°ë¼ì˜¬ ê±°ì—ìš”" },
      
      2: { name: "ã€Œì°½ì¡°ì˜ í˜ã€", description: "ëŠ¥ë ¥ê³¼ ì•„ì´ë””ì–´ê°€ ë¹›ì„ ë°œí•˜ëŠ” ë‚ ì…ë‹ˆë‹¤", summary: "ì ê·¹ì ìœ¼ë¡œ í–‰ë™í•˜ë©´ ì›í•˜ëŠ” ê²ƒì„ ì´ë£° ìˆ˜ ìˆì–´ìš”" },
      
      3: { name: "ã€Œì§ê´€ì˜ ì†Œë¦¬ã€", description: "ë¨¸ë¦¬ë³´ë‹¤ ê°ì •ì„ ë”°ë¼ì•¼ í•˜ëŠ” í•˜ë£¨ì…ë‹ˆë‹¤", summary: "ë…¼ë¦¬ë³´ë‹¤ ì§ê°ì´ ì¤‘ìš”í•œ ìˆœê°„, ë‹¹ì‹ ì˜ ê°ì„ ë¯¿ì–´ë³´ì„¸ìš”" },
      
      4: { name: "ã€Œê°•í•œ ì˜ì§€ã€", description: "ì±…ì„ê°ì´ ì¤‘ìš”í•œ í•˜ë£¨ì…ë‹ˆë‹¤", summary: "í”ë“¤ë¦¬ì§€ ë§ê³  í™•ì‹ ì„ ê°€ì§€ê³  í–‰ë™í•˜ë©´ ì¢‹ì€ ê²°ê³¼ê°€ ìˆì„ ê±°ì—ìš”" },
      
      5: { name: "ã€Œí’ìš”ì™€ ì—¬ìœ ã€", description: "ì•ˆì •ê³¼ í–‰ë³µì´ ì°¾ì•„ì˜¤ëŠ” ë‚ ì…ë‹ˆë‹¤", summary: "ì—¬ìœ ë¥¼ ì¦ê¸°ê³  ì£¼ë³€ ì‚¬ëŒë“¤ê³¼ ì¢‹ì€ ì‹œê°„ì„ ë³´ë‚´ë´ìš”" },
      
      6: { name: "ã€Œì§€í˜œì˜ ê¸¸ã€", description: "ë°°ì›€ê³¼ ê¹¨ë‹¬ìŒì´ í•„ìš”í•œ í•˜ë£¨ì…ë‹ˆë‹¤", summary: "ë¯¿ì„ ë§Œí•œ ì‚¬ëŒì˜ ì¡°ì–¸ì„ ë”°ë¥´ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ì—ìš”" },
      
      7: { name: "ã€Œìš´ëª…ì˜ ì¸ì—°ã€", description: "ì¸ê°„ê´€ê³„ê°€ ì¤‘ìš”í•œ í•˜ë£¨ì…ë‹ˆë‹¤!", summary: "ì£¼ë³€ ì‚¬ëŒë“¤ê³¼ì˜ ëŒ€í™”ë¥¼ ì†Œì¤‘íˆ ì—¬ê¸°ë©´ ì¢‹ì€ ì¼ì´ ìˆì„ ê±°ì—ìš”" },
      
      8: { name: "ã€Œê±°ëŒ€í•œ ëª©í‘œã€", description: "ëª©í‘œë¥¼ í–¥í•´ ë‹¬ë ¤ ê°€ì•¼í•˜ëŠ” í•˜ë£¨ì…ë‹ˆë‹¤", summary: "ë§ì„¤ì´ì§€ ë§ê³  ì „ì§„í•´ ë´ìš”. ìŠ¹ë¦¬ê°€ ê°€ê¹Œì›Œì§€ê³  ìˆì–´ìš”!" },
      
      9: { name: "ã€Œë‚´ë©´ì˜ í˜ã€", description: "ê°ì • ì¡°ì ˆì´ í•„ìš”í•œ í•˜ë£¨ì…ë‹ˆë‹¤", summary: "ì¸ë‚´ì‹¬ì„ ê°€ì§€ê³  ì°¨ë¶„í•˜ê²Œ í–‰ë™í•˜ë©´ ì¢‹ì€ ê²°ê³¼ê°€ ìˆì„ ê±°ì—ìš”" },
      
      10: { name: "ã€Œë„¤ìí´ë¡œë²„ã€", description: "ì˜ˆìƒì¹˜ ëª»í•œ ë³€í™”ê°€ ìˆì„ ìˆ˜ë„ ìˆëŠ” í•˜ë£¨ì…ë‹ˆë‹¤", summary: "ìš´ëª…ì˜ íë¦„ì„ ë°›ì•„ë“¤ì´ê³  ìœ ì—°í•˜ê²Œ ëŒ€ì²˜í•˜ëŠ” ê²Œ ì¤‘ìš”í•´ìš”" },
      
      11: { name: "ã€Œìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´ã€", description: "ê³µì •í•¨ì´ ì¤‘ìš”í•œ í•˜ë£¨ì…ë‹ˆë‹¤", summary: "ì •ì§í•˜ê³  ì˜¬ë°”ë¥¸ ì„ íƒì„ í•˜ë©´ ìš´ì´ ë”°ë¼ì¤„ ê±°ì—ìš”" },
      
      12: { name: "ã€Œì²œì‚¬ã€", description: "ì˜¤ëŠ˜ í•˜ë£¨ë§Œí¼ì€ í–‰ë³µí•˜ê³  ì¢‹ì€ ì¼ì´ ìˆì„ ê²ƒ ì…ë‹ˆë‹¤", summary: "ì˜¤ëŠ˜ì„ ì¦ê¸°ë©´ ë¼ìš”!" },
      
      13: { name: "ã€Œì£½ìŒã€", description: "ìƒˆë¡œìš´ ì „í™˜ì ì´ ë‹¤ê°€ì˜¤ëŠ” ë‚ ì…ë‹ˆë‹¤", summary: "ê³¼ê±°ë¥¼ ì •ë¦¬í•˜ê³  ìƒˆë¡œìš´ ê¸°íšŒë¥¼ ë§ì´í•  ì¤€ë¹„ë¥¼ í•´ ë´ìš”" },
      
      14: { name: "ã€Œì•…ë§ˆã€", description: "ê·¹ë‹¨ì ì¸ ì„ íƒì´ í•„ìš”í•  ìˆ˜ ìˆëŠ” í•˜ë£¨ì…ë‹ˆë‹¤", summary: "ê°ì •ì„ ì˜ ë‹¤ìŠ¤ë¦¬ê³  ì¤‘ìš©ì„ ì§€í‚¤ë©´ ì¢‹ì€ ê²°ê³¼ê°€ ìˆì„ ê±°ì—ìš”" },
      
      15: { name: "ã€Œë¶€ì„œì§„ íƒ‘ã€", description: "ì¶©ë™ì ì¸ ì„ íƒì„ ì¡°ì‹¬í•´ì•¼ í•˜ëŠ” ë‚ ì…ë‹ˆë‹¤", summary: "ìš•ì‹¬ì´ë‚˜ ê°ì •ì— íœ˜ë‘˜ë¦¬ì§€ ì•Šë„ë¡ ì‹ ì¤‘í•˜ê²Œ í–‰ë™í•´ìš”" },
      
      16: { name: "ã€Œë‹¬ã€", description: "ê°‘ì‘ìŠ¤ëŸ¬ìš´ ì‚¬ê±´ì´ ì¼ì–´ë‚  ìˆ˜ë„ ìˆëŠ” í•˜ë£¨ì…ë‹ˆë‹¤", summary: "ë‹¹í™©í•˜ì§€ ë§ê³  ì¹¨ì°©í•˜ê²Œ ëŒ€ì²˜í•˜ë©´ ìœ„ê¸°ë¥¼ ê¸°íšŒë¡œ ë°”ê¿€ ìˆ˜ ìˆì–´ìš”" },
      
      17: { name: "ã€Œë¶€ì™€ ëª…ì˜ˆã€", description: "ê¸ì •ì ì¸ ê¸°ìš´ì´ ê°€ë“í•œ ë‚ ì…ë‹ˆë‹¤!", summary: "ì›í•˜ëŠ” ì¼ì´ ìˆë‹¤ë©´ ì ê·¹ì ìœ¼ë¡œ ì›€ì§ì—¬ ë´ìš”. ì¢‹ì€ ì¼ì´ ìƒê¸¸ ê±°ì—ìš”!!" },
      
      18: { name: "ã€Œíƒœì–‘ã€", description: "ë¶ˆí™•ì‹¤í•¨ê³¼ í˜¼ë€ì´ ìˆì„ ìˆ˜ ìˆëŠ” í•˜ë£¨ì…ë‹ˆë‹¤", summary: "ëª¨ë“  ê±¸ ë‹¤ ì•Œ ìˆ˜ ì—†ì§€ë§Œ, ì§ê°ì„ ë¯¿ê³  ì‹ ì¤‘í•˜ê²Œ í–‰ë™í•˜ë©´ ë¼ìš”" },
      
      19: { name: "ã€Œì„ íƒì˜ ê°ˆë¦¼ê¸¸ã€", description: "ì¤‘ìš”í•œ ê²°ì •ì„ ë‚´ë ¤ì•¼ í•˜ëŠ” í•˜ë£¨ì…ë‹ˆë‹¤", summary: "ê³¼ê±°ë¥¼ ëŒì•„ë³´ê³ , í›„íšŒì—†ëŠ” ì„ íƒì„ í•˜ì„¸ìš”" },
      
      20: { name: "ã€Œì¹¼ã€", description: "í˜ë“  í•˜ë£¨ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤", summary: "ìì‹ ì˜ ë‚´ë©´ì„ ë°”ë¼ë³´ê³  ì²œì²œíˆ í•´ê²°í•´ ë‚˜ê°€ë´ìš”" },
      
      21: { name: "ã€Œì™„ì„±ì˜ ìˆœê°„ã€", description: "ë…¸ë ¥ì˜ ê²°ì‹¤ì´ ë§ºì–´ì§€ëŠ” ë‚ ì…ë‹ˆë‹¤!", summary: "ë§ˆì§€ë§‰ê¹Œì§€ ìµœì„ ì„ ë‹¤í•˜ë©´ ì„±ê³µì´ ê°€ê¹Œì›Œì§ˆ ê±°ì—ìš”!" },
      
      22: { name: "ã€Œë°°ì‹ ã€", description: "ì¸ê°„ê´€ê³„ë¥¼ ì£¼ì˜í•´ì•¼ í•˜ëŠ” í•˜ë£¨ì…ë‹ˆë‹¤", summary: "ì¸ê°„ê´€ê³„ì— ë§ì€ í˜ì„ ìŸì§€ ì•Šë„ë¡ ë…¸ë ¥ í•´ë´ìš”" },
      
      23: { name: "ã€Œì‹ ì˜ ì‹¬íŒã€", description: "ì°¨ë¶„í•œ í•˜ë£¨ê°€ í•„ìš”í•œ ë‚ ì…ë‹ˆë‹¤", summary: "ìƒëŒ€ë°©ì´ ì–¸í–‰ì„ í•˜ì§€ ì•Šê³  ì •ì§í•œ í–‰ë™ë§Œì„ í•˜ì„¸ìš”" },
      
      24: { name: "ã€Œë°”ë³´ã€", description: "ê¸‰í• ìˆ˜ë¡ ì²œì²œíˆ ê°€ì•¼ í•˜ëŠ” í•˜ë£¨ì…ë‹ˆë‹¤", summary: "ì¡°ê¸‰í•´í•˜ì§€ ë§ê³  ë‹¤ì–‘í•œ ì‹œì„ ì—ì„œ ë°”ë¼ë³´ì„¸ìš”" },
      
      25: { name: "ã€Œê¿ˆì˜ ì—¬ì¸ã€", description: "ê¿ˆì²˜ëŸ¼ ë¬´ì—‡ì´ë“  ê°€ëŠ¥í•œ í•˜ë£¨ì…ë‹ˆë‹¤", summary: "í•˜ê³ ì‹¶ì€ ì¼ì´ ìˆìœ¼ë©´ ë‹¹ì¥ ë„ì „í•´ë´ìš”!" },
      
      26: { name: "ã€Œê°ì •ì˜ íŒŒë„ã€", description: "ê°ì • ê¸°ë³µì´ ìˆëŠ” í•˜ë£¨ì…ë‹ˆë‹¤", summary: "ì°¨ë¶„í•˜ê²Œ ê°ì •ì„ ë‹¤ìŠ¤ë¦¬ëŠ” ê²ƒì´ ì¤‘ìš”í•œ ë‚ ì´ì—ìš”" },
      
      27: { name: "ã€Œì²œìƒì˜ ê³„ë‹¨ã€", description: "ì˜ˆìƒì¹˜ ëª»í•œ ê¸°íšŒê°€ ë‹¤ê°€ì˜¬ ê°€ëŠ¥ì„±ì´ ìˆëŠ” ë‚ ì…ë‹ˆë‹¤!", summary: "ì—´ë¦° ë§ˆìŒìœ¼ë¡œ ê¸°íšŒë¥¼ ì¡ì•„ë´ìš”. ë„ì „í•˜ë©´ ì¢‹ì€ ì¼ì´ ìˆì„ ê±°ì—ìš”!" },
      
      28: { name: "ã€Œì €ì£¼ã€", description: "ì˜ˆìƒì¹˜ ëª»í•œ ì•ˆ ì¢‹ì€ ì¼ì´ ë‹¤ê°€ì˜¬ ìˆ˜ ìˆëŠ” í•˜ë£¨ì…ë‹ˆë‹¤", summary: "ì˜¤ëŠ˜ë§Œí¼ì€ ì§‘ì—ì„œ ê°€ë§Œíˆ ì‰¬ëŠ”ê²Œ ì–´ë–¨ê¹Œìš”? " }
    };

    // ì¹´ë“œ ëœë¤ ìƒì„±
    const cardNumbers = Array.from({ length: totalCards }, (_, i) => i + 1);
    shuffleArray(cardNumbers);
    cardNumbers.forEach(cardNum => {
      createCard(cardNum);
    });

    function createCard(cardNum) {
      const cardDiv = document.createElement('div');
      cardDiv.classList.add('card');
      cardDiv.onclick = () => pickCard(cardNum, cardDiv);
      cardDiv.innerHTML = `
        <div class="card-inner">
          <div class="card-face card-back"></div>
          <div class="card-face card-front" style="background-image: url('fortunes/fortune${cardNum}.png');"></div>
        </div>
      `;
      cardContainer.appendChild(cardDiv);
    }

    let cardPicked = false;
    function pickCard(cardNum, cardElement) {
      if (cardPicked) return;
      cardPicked = true;
      cardElement.classList.add('flipped');
      resultImg.src = '';
      resultText.textContent = 'ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...';
      setTimeout(() => {
        resultImg.style.transition = '1s ease';
        resultImg.src = `fortunes/fortune${cardNum}.png`;
        resultText.innerHTML = `${fortuneDescriptions[cardNum].name}<br>${fortuneDescriptions[cardNum].description}<br>${fortuneDescriptions[cardNum].summary}`;
        resultModal.classList.add('show');
      }, 500);
    }

    function goHome() {
      window.location.href = 'index.html';
    }

    function resetCards() {
      cardPicked = false;
      const cardElements = document.querySelectorAll('.card');
      cardElements.forEach(card => card.classList.remove('flipped'));
      resultModal.classList.remove('show');
    }

    let isMusicPlaying = true;
    const musicBtn = document.getElementById('musicBtn');
    const music = document.getElementById('backgroundMusic');

    function toggleMusic() {
      if (isMusicPlaying) {
        music.pause();
        musicBtn.textContent = 'ğŸ”‡';
      } else {
        music.play();
        musicBtn.textContent = 'ğŸµ';
      }
      isMusicPlaying = !isMusicPlaying;
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }
  </script>
</body>
</html>
